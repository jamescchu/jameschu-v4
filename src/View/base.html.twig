<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}James Chu{% endblock %}</title>

    <link href="/css/screen.css" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700" rel="stylesheet">
    <noscript id="deferred-styles">
      {% block extra_stylesheets %}{% endblock %}
    </noscript>

    <style>
      header { position: static; margin-top: 60px; text-align: center; margin-bottom: 80px; }
      header h1 { font-size: 3.6em; text-transform: lowercase; color: #313439; font-weight: 300; margin-bottom: 20px; }
      header nav ul { list-style-type: none; margin: 0; padding: 0; -webkit-transition: all 300ms ease-in-out; transition: all 300ms ease-in-out; display: -webkit-flex; display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-justify-content: center; -webkit-box-pack: center; -ms-flex-pack: center; justify-content: center; }
      header nav ul li a { padding: 10px; text-decoration: none; color: #7D8086; font-size: 1.6em; }
      header nav ul li a:hover { color: #E8E9EA; }
      header nav ul li a.active { color: #313439; }
    </style>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="wrapper">
  <header>
    <h1>{% block heading %}James Chu{% endblock %}</h1>
    <nav>
      {% block nav %}
      <ul>
        <li><a href="/">work</a></li>
        <li><a href="/about">info</a></li>
      </ul>
      {% endblock %}
    </nav>
  </header>
  <div role="main">
  {% block content %}
  {% endblock %}
  </div>
  <footer>
    &copy; james chu. all rights reserved
  </footer>
</div>

<script type="text/javascript">
  var h = document.querySelector("nav");
  var stuck = false;
  var stickPoint = getDistance();

  function getDistance() {
  var topDist = h.offsetTop;
  return topDist;
  }

  window.onscroll = function(e) {
  var distance = getDistance() - window.pageYOffset;
  var offset = window.pageYOffset;
  if ( (distance <= 0) && !stuck) {
      h.classList.add('scrolled');
      stuck = true;
    } else if (stuck && (offset <= stickPoint)){
      h.classList.remove('scrolled');
      stuck = false;
    }
  }
  var loadDeferredStyles = function() {
        var addStylesNode = document.getElementById("deferred-styles");
        var replacement = document.createElement("div");
        replacement.innerHTML = addStylesNode.textContent;
        document.body.appendChild(replacement)
        addStylesNode.parentElement.removeChild(addStylesNode);
      };
      var raf = requestAnimationFrame || mozRequestAnimationFrame ||
          webkitRequestAnimationFrame || msRequestAnimationFrame;
      if (raf) raf(function() { window.setTimeout(loadDeferredStyles, 0); });
      else window.addEventListener('load', loadDeferredStyles);
</script>
{% block extra_scripts %}{% endblock %}
</body>
</html>
